{% extends "base.html" %}
{% load static %}
{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% if category %}{{ category.name }}{% else %}Evolvée Radiance Store{% endif %}{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: #2d1537;
            color: #fff;
            font-family: 'Montserrat', sans-serif;
        }
        .brand-font { font-family: 'Playfair Display', serif; }
        .brand-gradient {
            background: linear-gradient(90deg, #a259c6, #e16b8c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .carousel-container {
            position: relative;
            width: 100%;
            height: 480px;
            overflow: hidden;
            margin-bottom: 0;
        }
        .carousel-slide {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0;
            transition: opacity 1s cubic-bezier(.4,0,.2,1);
            z-index: 1;
        }
        .carousel-slide.active {
            opacity: 1;
            z-index: 2;
        }
        .carousel-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center top;
            background: #1a0823;
        }
        .carousel-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(90deg,rgba(45,21,55,0.7),rgba(45,21,55,0.2));
            z-index: 3;
        }
        .carousel-dots {
            position: absolute; bottom: 24px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 12px; z-index: 10;
        }
        .carousel-dot {
            width: 14px; height: 14px; border-radius: 50%; background: #fff; opacity: 0.4; cursor: pointer; transition: opacity 0.3s;
        }
        .carousel-dot.active { opacity: 1; background: #e16b8c; }
        .carousel-arrow {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: rgba(0,0,0,0.3); color: #fff; border: none; border-radius: 50%; width: 40px; height: 40px;
            font-size: 1.5rem; z-index: 10; cursor: pointer; transition: background 0.2s;
        }
        .carousel-arrow:hover { background: #e16b8c; }
        .carousel-arrow.left { left: 24px; }
        .carousel-arrow.right { right: 24px; }
        .hero-overlay-content {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
            z-index: 5; text-align: center; color: #fff;
            background: rgba(255,255,255,0.10); border-radius: 1.5rem; padding: 2rem 3rem;
            box-shadow: 0 8px 32px 0 rgba(162,89,198,0.15);
        }
        .fade-in-up { opacity: 0; transform: translateY(40px); transition: opacity 0.8s, transform 0.8s; }
        .fade-in-up.visible { opacity: 1; transform: translateY(0); }
        .category-card {
            background: #1a0823;
            border-radius: 1.5rem;
            box-shadow: 0 4px 24px rgba(0,0,0,0.15);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .category-card:hover { transform: translateY(-6px) scale(1.03); box-shadow: 0 8px 32px 0 rgba(226,107,140,0.25), 0 1.5px 8px 0 rgba(162,89,198,0.15); z-index: 2; }
        .footer-link { color: #fff; opacity: 0.8; transition: opacity 0.2s; }
        .footer-link:hover { opacity: 1; }
        .footer-bg { background: #12071a; }
        .search-btn { background: #a259c6; color: #fff; border-radius: 1rem; padding: 0.5rem 2rem; font-size: 1.2rem; }
        .search-btn:hover { background: #e16b8c; }
        .partner-box { background: #6d4a7b; border-radius: 1rem; padding: 2rem; color: #fff; font-size: 1.3rem; }
        .newsletter-input { border-radius: 2rem 0 0 2rem; padding: 0.7rem 1.2rem; border: none; width: 70%; }
        .newsletter-btn { border-radius: 0 2rem 2rem 0; background: #a259c6; color: #fff; padding: 0.7rem 2rem; border: none; }
        .newsletter-btn:hover { background: #e16b8c; }
    </style>
</head>
<body>
    <!-- Hero Carousel Section -->
    <div class="carousel-container">
        <div class="carousel-slide active"><img src="{% static 'lip_products/sw1.JPG' %}" class="carousel-img" alt="Slide 1"></div>
        <div class="carousel-slide"><img src="{% static 'lip_products/sw2.JPG' %}" class="carousel-img" alt="Slide 2"></div>
        <div class="carousel-slide"><img src="{% static 'lip_products/sw3.JPG' %}" class="carousel-img" alt="Slide 3"></div>
        <div class="carousel-slide"><img src="{% static 'lip_products/sw4.JPG' %}" class="carousel-img" alt="Slide 4"></div>
        <div class="carousel-overlay"></div>
        <button class="carousel-arrow left" id="carousel-prev">&#8592;</button>
        <button class="carousel-arrow right" id="carousel-next">&#8594;</button>
        <div class="carousel-dots">
            <span class="carousel-dot active"></span>
            <span class="carousel-dot"></span>
            <span class="carousel-dot"></span>
            <span class="carousel-dot"></span>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="flex justify-center mt-[-2rem] mb-8 z-20 relative fade-in-up">
        <form action="{% url 'store:search' %}" method="get" class="flex w-full max-w-md">
            <input type="text" name="q" placeholder="Search" class="flex-1 px-6 py-3 rounded-l-full bg-white text-gray-800 focus:outline-none" />
            <button type="submit" class="search-btn rounded-r-full">Search</button>
        </form>
    </div>

    <!-- Products by Category -->
    <section class="max-w-5xl mx-auto mb-12 fade-in-up">
        <div class="text-center mb-6">
            <span class="brand-font text-xl tracking-wider" style="background: #bca4cb; color: #2d1537; border-radius: 1rem; padding: 0.5rem 2rem;">PRODUCTS BY CATEGORY</span>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            {% for category in categories %}
            <a href="/category/{{ category.slug }}/products/" class="category-card flex flex-col items-center p-6 text-center">
                {% if category.image %}
                    <img src="{{ category.image.url }}" alt="{{ category.name }}" class="w-40 h-40 object-cover rounded-xl mb-4 border-4 border-purple-200">
                {% else %}
                    <img src="{% static 'lip_products/aurora-crystal.jpg' %}" alt="{{ category.name }}" class="w-40 h-40 object-cover rounded-xl mb-4 border-4 border-purple-200">
                {% endif %}
                <span class="brand-font text-2xl mb-2" style="color: #e16b8c;">{{ category.name|title }}</span>
            </a>
            {% empty %}
            <div class="col-span-2 text-center text-lg text-gray-300">No categories available.</div>
            {% endfor %}
        </div>
    </section>

    <!-- Partners Section -->
    <section class="max-w-3xl mx-auto mb-12 fade-in-up">
        <div class="text-center mb-4 brand-font text-lg tracking-wider" style="background: #bca4cb; color: #2d1537; border-radius: 1rem; padding: 0.5rem 2rem;">PARTNERS</div>
        <div class="partner-box text-center">List of partners</div>
    </section>

    <!-- Footer -->
    <footer class="footer-bg py-10 px-4 mt-12 fade-in-up">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
            <div>
                <div class="brand-font brand-gradient text-2xl font-bold mb-2">Evolvée Radiance</div>
                <ul class="mb-4">
                    <li><a href="/" class="footer-link">Home</a></li>
                    <li><a href="#" class="footer-link">Products</a></li>
                    <li><a href="#" class="footer-link">about us</a></li>
                    <li><a href="#" class="footer-link">Contact us</a></li>
                </ul>
                <div class="flex space-x-3 mt-2">
                    <a href="#" class="text-xl"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="text-xl"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-xl"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-semibold mb-2">Subscribe for our News</div>
                <div class="mb-2 text-gray-300">Get more information about our product, services, discount and promotion</div>
                <form class="flex justify-center mt-2">
                    <input type="email" placeholder="example@gmail.com" class="newsletter-input" required />
                    <button type="submit" class="newsletter-btn">Send</button>
                </form>
            </div>
            <div class="flex flex-col items-center md:items-end">
                <div class="mb-2 font-semibold">PAYMENT METHODS</div>
                <div class="flex space-x-4">
                    <img src="https://cdn.shopify.com/s/files/1/0533/2089/files/shopify-bag.png?height=32" alt="Shopify" class="h-8" />
                    <img src="https://www.paypalobjects.com/webstatic/icon/pp258.png" alt="PayPal" class="h-8" />
                </div>
            </div>
        </div>
    </footer>
    <script>
        // Carousel logic
        const slides = document.querySelectorAll('.carousel-slide');
        const dots = document.querySelectorAll('.carousel-dot');
        const prevBtn = document.getElementById('carousel-prev');
        const nextBtn = document.getElementById('carousel-next');
        let currentSlide = 0;
        let carouselInterval;
        function showSlide(idx) {
            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === idx);
                dots[i].classList.toggle('active', i === idx);
            });
            currentSlide = idx;
        }
        function nextSlide() {
            let next = (currentSlide + 1) % slides.length;
            showSlide(next);
        }
        function prevSlide() {
            let prev = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(prev);
        }
        function startCarousel() {
            carouselInterval = setInterval(nextSlide, 3000);
        }
        function stopCarousel() {
            clearInterval(carouselInterval);
        }
        dots.forEach((dot, idx) => {
            dot.addEventListener('click', () => {
                showSlide(idx);
                stopCarousel();
                startCarousel();
            });
        });
        nextBtn.addEventListener('click', () => { nextSlide(); stopCarousel(); startCarousel(); });
        prevBtn.addEventListener('click', () => { prevSlide(); stopCarousel(); startCarousel(); });
        showSlide(0);
        startCarousel();
        // Scroll-triggered fade-in-up animations
        function revealOnScroll() {
            document.querySelectorAll('.fade-in-up').forEach(el => {
                const rect = el.getBoundingClientRect();
                if (rect.top < window.innerHeight - 60) {
                    el.classList.add('visible');
                }
            });
        }
        window.addEventListener('scroll', revealOnScroll);
        window.addEventListener('load', revealOnScroll);
    </script>
</body>
</html>
{% endblock %}

         